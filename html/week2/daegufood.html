<!-- BZ_NM(가게이름), FD_CS(음식 종류 ex. 한식),TLNO (전화번호), MBZ_HR (영업시간),SEAT_CNT(가게좌석), GNG_CS (가게 주소) -->
<!DOCTYPE html>

<html lang="ko">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daegufood</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        function q1() {
            $.ajax({
                type: "GET",
                url: "https://www.daegufood.go.kr/kor/api/tasty.html",
                data: {},
                success: function(response){
                    $("#names-q1").empty()
                    let food_list = response["data"]
                    for (let i = 0; i < food_list.length; i++){
                        let name = food_list[i]["BZ_NM"]
                        let kind = food_list[i]["FD_CS"]
                        let tel = food_list[i]["TLNO"]
                        let hr = food_list[i]["MBZ_HR"]
                        let seat = food_list[i]["SEAT_CNT"]
                        let addr = food_list[i]["GNG_CS"]

                        let tr_bike = `<tr>
                                            <td>${name}</td>
                                            <td>${kind}</td>
                                            <td>${tel}</td>
                                            <td>${hr}</td>
                                            <td>${seat}</td>
                                            <td>${addr}</td>
                                        </tr>`
                        
                        $("#names-q1").append(tr_bike)
                    }
                }
            })
        }
    </script>

    

</head>

<body>

<h1>jquery와 Ajax를 활용한 대구 맛집 서비스</h1>
<hr />


<div class="question-box">
    <h2>대구 광역시 중구 맛집 OpenAPI 사용하기</h2>
    <p>
        대구 광역시 중구의 맞집을 보여주세요.
    </p>
    <p>
        업데이트 버트을 누를 때마다 지웠다 새로 씌여져야 합니다.
    </p>
    <button onclick="q1()">업데이트</button>
    
    <table>
        <thead>
            <tr>
                <td>식당 이름</td>
                <td>음식 종류</td>
                <td>전화번호</td>
                <td>영업 시간</td>
                <td>좌석 수</td>
                <td>식당 위치</td>
            </tr>
        </thead>
        <tbody id="names-q1">



        </tbody>
    </table>


</div>


</body>